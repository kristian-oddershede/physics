<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Suggestions - Basics of Physics</title>
  <link rel="stylesheet" href="/physics/styles.css" />
</head>
<body>
  <!-- ðŸ” Password Overlay -->
  <div id="password-overlay">
    <div class="password-box">
      <h2>Are you a robot?</h2>
      <p class="subtitle">Type the code "CeRn" to get to the Suggestions-page (to avoid spam)</p>
      <input type="password" id="site-password" placeholder="Password" />
      <button onclick="checkSitePassword()">ðŸ”“ Log-in</button>
      <p id="password-error"></p>
    </div>
  </div>

  <script>
    const SITE_PASSWORD = "CeRn";

    function hideOverlay() {
      document.getElementById("password-overlay").style.display = "none";
      document.body.style.overflow = "auto";
    }

    function checkSitePassword() {
      const input = document.getElementById("site-password").value;
      const error = document.getElementById("password-error");

      if (input === SITE_PASSWORD) {
        hideOverlay();
      } else {
        error.innerText = "Forkert adgangskode. PrÃ¸v igen.";
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.body.style.overflow = "hidden";
    });
  </script>
  
  <header>
    <h1><a href="/physics/index.html" class="home-link">Basics of Physics</a> - Suggestions</h1>
    <div id="nav-placeholder"></div>
  </header>

  <main>
    <section>
      <h2>We Value Your Suggestions</h2>
      <p>
        Do you have an idea for new content or improvements to the site? 
        Share your thoughts below â€” your feedback helps make this resource better for everyone.
      </p>
    </section>

    <section class="suggestion-box">
      <form action="mailto:kristian.possum@gmail.com" method="post" enctype="text/plain">
        <label for="name">Your Name (optional):</label>
        <input type="text" id="name" name="name" placeholder="Enter your name" />

        <label for="email">Your Email (optional):</label>
        <input type="email" id="email" name="email" placeholder="Enter your email" />

        <label for="suggestion">Your Suggestion:</label>
        <textarea id="suggestion" name="suggestion" rows="6" placeholder="Write your suggestion here..." required></textarea>

        <button type="submit">Send Suggestion</button>
      </form>
    </section>
  </main>

  <div id="footer"></div>
  <script>
    fetch("/physics/footer.html")
      .then(r => r.text())
      .then(html => { document.getElementById("footer").innerHTML = html; });
  </script>

  <script>
    async function loadNav() {
      try {
        const response = await fetch('/physics/nav.html');
        if (!response.ok) throw new Error('Network response was not ok');
        const navHTML = await response.text();
        document.getElementById('nav-placeholder').innerHTML = navHTML;
  
        // Highlight the current page link
        const links = document.querySelectorAll('#nav-placeholder nav a');
        const currentPage = window.location.pathname.split('/').pop();
  
        links.forEach(link => {
          if (link.getAttribute('href') === currentPage) {
            link.classList.add('active');
          }
        });
      } catch (error) {
        console.error('Failed to load navigation:', error);
      }
    }
    loadNav();
  </script>
</body>
</html>
